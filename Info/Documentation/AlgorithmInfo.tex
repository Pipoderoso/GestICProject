\documentclass{article}

\usepackage[a4paper, total={6in, 8in}]{geometry}
\usepackage{graphicx}
\usepackage{subfiles}




\begin{document}

\section{Introduction}

\noindent This Project is a proposal from the professor Christian Langen from the Hochschule Karlsruhe with the intention of being a learning experience for the students. There are probably better methods, software and hardware to develop the project, neverthless this is the final product we could do with the given Software, Hardware and Knowledge. 

\section{Development}

\subsection{Main Idea}

\noindent The aim of the project is to make an instrument, that can be played without making any physical contact with it. To this purpose we count with three hardware components, an E-field sensor (MGC3031), a microcontroller (STM32F4 - Discovery Board) and a Computer with Matlab/Simulink installed. The project can be divided into 3 main tasks, communicating with the sensor, processing the sensor's data and outputing the sound.  

\begin{figure}[h]
\centering
\includegraphics[width=12cm]{MainIdea.png}  
\caption{Simplified project diagram}
\end{figure}

\noindent Because of the lack of previous experience with C, we decided to use Matlab/Simulink and the Waijung V.xxxx blockset for programming the STM32F4Discovery \footnote{A more flexible development option for more experienced developers is the Keil Development Tools program.}. 

% las Ventajas del blockset es la facil inicializacion y uso de componentes del microcontrolador.  Ademas tambien la posibilidad de utilizar standard bloques de simulink. al compilar los archivos son traducidos a C y transmitidos al microcontrolador. 

\subsection{I2C Communication}

\newpage

\subsection{Data Processing and Sound output}

\noindent For the instrument playstyle we decided to use the equivalent of a piano key. The area of the sensor was virtually divided into quadrants, each of these quedrants produce a different frequency. For a quadrant to be pressed/active the current XY-position of the finger/object has to be inside the quadrant limits and the Z-Threshold has to be surpassed. The position of the object/finger above the sensor is checked every takt. 

\noindent Frenquency value is sent through UART - Protocol to the serial port of a computer. Using the "Tone.slx" Simulink file, the frequency value will be used to create a sinus signal that later is sent to the speakers of the pc. 

\begin{figure}[h]
\centering
\includegraphics[width=12cm]{SensorKeys.png}
\caption{Key Distribution in sensor}
\end{figure}


\end{document}
